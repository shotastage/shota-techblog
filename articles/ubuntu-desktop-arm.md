---
title: "ARM系CPU向けのUbuntu Desktop環境を構築する"
emoji: "📝"
type: "技術記事" # tech: 技術記事 / idea: アイデア
topics: ["Ubuntu", "ARM"]
published: true
---

>> Ubuntu 25.04から公式でARM版のデスクトップイメージが公開されました。もうちょっと前のバージョンでARMのデスクトップ版使いたい人の参考になればと思います。

本稿では、Ubuntu Desktopの環境をARM系CPUのハードウェアで実現するための具体的なセットアップ手順について解説します。

# 背景

Apple SiliconやAWSのGravitonといい開発者が扱うマシンにおいて、ARMプロセッサがだいぶ市民権を獲得していきました。特に、Apple Silicon搭載のMacは開発者でも使用している人が多いと思います。
さて、開発者にとってはLinuxの仮想環境をPCの中で動かして作業をする場合は多いと思います。多くの場合、用途はサーバーサイドの構築であるため基本的にはCUI環境で事足りる場合が多いと思います。
とはいえ、例えばLinux向けのGUIアプリケーションをテストしたい場合などUbuntuのデスクトップ環境を構築しければならないシーンも少なからず存在します。

しかし、[ubuntu.com](ubuntu.com)を見ると配布されている公式のUbuntu Desktopのisoはamd64アーキテクチャであり、いわゆるIntelやAMDが採用する命令セットのCPUでしか実行ができません。
QEMUなどの完全仮想化を使用すればx86系のOSをARM上で動かすことは一応可能ですが、CPUアーキテクチャのエミュレーションはグラフィカルな環境においてパフォーマンス上の観点から好ましくありません。

そこで、今回はARM版のiso配布のあるUbuntu ServerをベースにARM版UbuntuのDesktop環境を構築していきます。

# 主な手法

端的に述べると、Ubuntu ServerのARM64/aarch64アーキテクチャのisoからminimumの状態でインストール作業を完了させ、後にaptコマンドを使用してGNOMEデスクトップ環境のインストールを行います。


## [ubuntu.com](ubuntu.com)からServerのisoイメージをとってくる

![](/images/ubuntu/ubcom.png)

まず、Ubuntuの公式サイト（[https://ubuntu.com/download/server](https://ubuntu.com/download/server)）にアクセスします。
通常のダウンロードボタンを押すとamd64版がダウンロードされてしまうことがあるため、ページ内の **Alternative architecture** を探します。

そこで、アーキテクチャとして **ARM64** (または ARMv8/AArch64) が選択されていることを確認してISOファイルをダウンロードしてください。

## Ubuntu Serverのインストール

ダウンロードしたISOファイルを使用して、仮想マシン（UTM, Parallels Desktop, VMware Fusionなど）を作成します。
仮想マシンの設定で、CD/DVDドライブにダウンロードしたISOを指定して起動してください。

インストーラーが起動したら、画面の指示に従って言語設定、キーボード設定、ネットワーク設定などを進めます。
基本的にはデフォルト設定のままで問題ありませんが、**Install OpenSSH server** にチェックを入れておくと、トラブル時にホストマシンからSSHで接続して操作できるため便利です。

インストールが完了すると、「Reboot Now」と表示されます。仮想ドライブからISOをアンマウントしてから再起動を行ってください。

## デスクトップ環境 (ubuntu-desktop) の導入

再起動後、コンソール（CUI）のログインプロンプトが表示されます。
インストール時に作成したユーザーとパスワードでログインします。

ログインできたら、まずはパッケージ情報を最新にします。

```bash
sudo apt update
sudo apt upgrade -y
```

続いて、Ubuntuの標準的なデスクトップ環境である `ubuntu-desktop` パッケージをインストールします。これが本記事の肝となる手順です。

```bash
# 標準的なUbuntuデスクトップ（GNOME）をインストール
sudo apt install ubuntu-desktop
```

このコマンドを実行すると多数のパッケージがダウンロード・インストールされるため、完了までしばらく時間がかかります。
インストールプロセスが終了したら、システムを再起動します。

```bash
sudo reboot
```

## 動作確認

再起動後、おなじみのGUIログイン画面（GDM）が表示されれば構築完了です。
これで、ARMアーキテクチャ上でネイティブパフォーマンスを活かしたUbuntu Desktop環境が利用可能になります。

# あとがき

Linux系のOSは古くから様々なCPUアーキテクチャに対応する傾向にありました。例えば、Ubuntuはamd64のみならずi386(32bit系x86)やPowerPC, MIPSからarm64にかけて非常に多様なCPUをサポートします。
これは、macOSやWindowsなどの商用のOSでは対照的でこれらのOSではアーキテクチャは固定される傾向にあります。従って、開発者ツールが動かなかったり、動かすのが大変だったりとデベロッパの苦悩を生む要因になることもあります。
とはいえ、Macのように一つの会社による強力なリーダーシップによってアーキテクチャがIntelからARMへ一気にシフトできれば、対応は比較的容易に完了します。
Windowsのようにamd64のアーキテクチャに固定された世界から、いきなりIntelとSnapdragon X搭載のARMが混在するカオスな市場が生まれると、ソフトウェアベンダやデベロッパに対して新しいアーキテクチャに対応する圧力が働きづらく、この状況をより悪化させます。
これらの状況に対処できる方法が比較的簡単に見つかるのも、やはりLinuxという開かれたオープンな環境が実現できたことだと実感できます。
